app:
  name: AgentContainer
  version: "1.0.0"
  description: "A container for managing and running AI agents"

server:
  host: "0.0.0.0"
  port: 8000
  debug: true
  workers: 4  # Gunicorn workers
  worker_class: "uvicorn.workers.UvicornWorker"
  max_requests: 1000
  max_requests_jitter: 50

agents:
  max_concurrent: 10
  timeout: 300

logging:
  level: "INFO"
  file: "logs/agent_container.log"

database:
  type: "sqlite"
  path: "data/agents.db"

api:
  base_url: "https://openrouter.ai/api/v1"
  default_model: "nvidia/nemotron-nano-12b-v2-vl:free"
  key: "your-api-key-here"  # 请替换为你的实际API key
  timeout: 30
  max_retries: 3
  retry_delay: 1

container:
  image_name: "debian-container"
  container_name: "agent-debian"
  dockerfile_path: "Dockerfile"
  build_timeout: 300
  exec_timeout: 30
  stats_timeout: 10
  ports: {}
  environment: {}
  volumes: {}
  restart_policy: "no"
  network_mode: "bridge"

# 缓存配置
cache:
  redis_enabled: false  # 是否启用Redis缓存
  redis_url: "redis://localhost:6379"
  default_ttl: 300  # 默认缓存时间（秒）
  max_memory_cache: 1000  # 内存缓存最大条目数

# 连接池配置
connection_pool:
  docker_pool_size: 5  # Docker连接池大小
  http_pool_size: 20  # HTTP连接池大小
  executor_pool_size: 10  # 线程池大小

# 性能监控配置
performance:
  metrics_window: 1000  # 保留最近的指标数量
  monitor_interval: 10  # 监控间隔（秒）
  health_thresholds:
    max_response_time: 5.0  # 最大响应时间（秒）
    max_cpu_percent: 90.0  # 最大CPU使用率
    max_memory_percent: 90.0  # 最大内存使用率
    max_error_rate: 0.1  # 最大错误率

# 并发控制
concurrency:
  max_concurrent_requests: 100  # 最大并发请求数
  rate_limit_requests: 1000  # 每分钟请求限制
  rate_limit_window: 60  # 速率限制窗口（秒）

# 安全配置
security:
  jwt_secret_key: "your-jwt-secret-key-here"  # JWT密钥，请替换为强随机字符串
  jwt_algorithm: "HS256"  # JWT算法
  jwt_expiration_hours: 24  # JWT过期时间（小时）
  admin_username: "admin"  # 默认管理员用户名
  admin_password: "admin123"  # 默认管理员密码，请立即更改
  enable_https: false  # 是否启用HTTPS
  ssl_cert_path: "certs/server.crt"  # SSL证书路径
  ssl_key_path: "certs/server.key"  # SSL私钥路径
  cors_origins: ["*"]  # CORS允许的源
  enable_audit_log: true  # 是否启用审计日志
  audit_log_file: "logs/audit.log"  # 审计日志文件路径
  sensitive_headers: ["authorization", "x-api-key", "cookie"]  # 需要过滤的敏感头

# 随机想法注入系统配置
whisper_injection:
  enabled: true  # 是否启用随机想法注入
  vocabulary_file: "data/vocabulary.json"  # 词汇库文件路径
  injection_interval_minutes: 30  # 注入间隔（分钟）
  log_file: "logs/whisper_injection.log"  # 注入日志文件路径
  max_log_entries: 1000  # 最大日志条目数
  default_vocabulary:  # 默认词汇库
    - "创新思维"
    - "突破常规"
    - "跨界融合"
    - "系统优化"
    - "用户体验"
    - "技术前沿"
    - "可持续发展"
    - "智能自动化"
    - "数据驱动"
    - "敏捷开发"

# AI决策引擎配置
decision_engine:
  enabled: true  # 是否启用决策引擎
  interval: 60  # 决策间隔（秒）
  model: "nvidia/nemotron-nano-12b-v2-vl:free"  # 用于决策生成的模型
  log_file: "logs/decision_engine.log"  # 决策日志文件路径
  dangerous_commands:  # 危险命令过滤列表
    - "rm\\s+-rf\\s+/"
    - "rm\\s+-rf\\s+\\*"
    - "rm\\s+-rf\\s+\\.\\."
    - "format\\s+"
    - "mkfs\\."
    - "dd\\s+if="
    - "fdisk"
    - "parted"
    - "shutdown"
    - "reboot"
    - "halt"
    - "poweroff"
    - "systemctl\\s+disable"
    - "systemctl\\s+stop"
    - "killall"
    - "pkill\\s+-9"
    - "chmod\\s+777"
    - "chown\\s+root"
    - "usermod"
    - "userdel"
    - "passwd"
    - "su\\s+"
    - "sudo\\s+"
    - "mount"
    - "umount"
    - "apt\\s+remove"
    - "apt\\s+purge"
    - "pip\\s+uninstall"
    - "npm\\s+uninstall"
    - "yum\\s+remove"
    - "wget\\s+.*\\|\\s*sh"
    - "curl\\s+.*\\|\\s*sh"
    - "eval\\s+"
    - "exec\\s+"
    - "bash\\s+-c"
    - "sh\\s+-c"
  allowed_commands:  # 允许的命令模式
    - "^ls\\s+"
    - "^pwd$"
    - "^cd\\s+"
    - "^cat\\s+"
    - "^head\\s+"
    - "^tail\\s+"
    - "^grep\\s+"
    - "^find\\s+"
    - "^ps\\s+"
    - "^top$"
    - "^htop$"
    - "^df\\s+"
    - "^du\\s+"
    - "^free$"
    - "^uptime$"
    - "^whoami$"
    - "^id$"
    - "^date$"
    - "^echo\\s+"
    - "^mkdir\\s+"
    - "^touch\\s+"
    - "^cp\\s+"
    - "^mv\\s+"
    - "^python3?\\s+"
    - "^node\\s+"
    - "^npm\\s+run"
    - "^git\\s+"
    - "^vim?\\s+"
    - "^nano\\s+"
    - "^less\\s+"
    - "^more\\s+"
    - "^wc\\s+"
    - "^sort\\s+"
    - "^uniq\\s+"
    - "^cut\\s+"
    - "^awk\\s+"
    - "^sed\\s+"